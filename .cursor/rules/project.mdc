---
description: Technical guidelines for Zett - a mindful note-taking app. This rule helps with maintaining consistent code quality and documentation standards.
globs: *,**/*
---

## Documentation Standards
For changelog management and documentation, refer to @changelog.mdc
For project upgrades proposals refer to [proposal.mdc](mdc:.cursor/rules/proposal.mdc)


# Zett Technical Guidelines

{
  "recommendations": {
    "react": {
      "fileStructure": {
        "src": {
          "components": "Contains UI components, each frequently has a related .stories.tsx (Storybook) file",
          "hooks": "Contains custom hooks (e.g. useAttachFile.ts, useEditorSettings.ts)",
          "routes": "Holds route-level components (e.g. src/routes/...)",
          "utils": "Utility logic (e.g. date.ts, update-tag.ts) with co-located tests (.test.ts)"
        }
      },
      "naming": {
        "filenames": "kebab-case for component files (e.g. note-preview.tsx, note-preview-card.tsx)",
        "componentExports": "PascalCase for the exported component function (e.g. `export function NotePreview()...`)",
        "consistencyTip": "Consider a single approach to naming if you prefer PascalCase in both file and component name"
      },
      "styling": "Uses Tailwind CSS (configured in tailwind.config.cjs) and Radix UI components (see @radix-ui dependencies in package.json)",
      "storySetup": "Storybook config is located in .storybook (main.cjs, preview.tsx, preview-head.html); story files use .stories.tsx suffix"
    },
    "typescript": {
      "compilerOptions": {
        "strict": true,
        "target": "esnext",
        "moduleResolution": "bundler",
        "jsx": "react-jsx",
        "isolatedModules": true,
        "noEmit": true
      },
      "observations": [
        "Root tsconfig.json references tsconfig.node.json for Node-specific config (composite build, ESNext modules)",
        "React code is typed with react and react-dom@^18.2.0, but you plan to upgrade to 19.x",
        "Paths are mostly direct relative imports; you could introduce TS path aliases for deeper directories if needed"
      ]
    },
    "storybook": {
      "configLocation": ".storybook (main.cjs, preview.tsx, preview-head.html)",
      "scripts": "Run Storybook with `npm run dev:storybook` and build with `npm run build:storybook`",
      "files": "Stories found in src/components/**/*.stories.tsx (e.g. button.stories.tsx, card.stories.tsx)"
    },
    "testing": {
      "framework": "Vitest (see `vitest` in package.json, used in scripts: test, test:watch)",
      "coverage": "c8 for coverage, or you may integrate Vitest coverage directly",
      "filePattern": "Co-located .test.ts or .test.tsx files (e.g. src/utils/update-tag.test.ts)",
      "storybookTests": "Use test-storybook with `@storybook/test-runner` in scripts (test:storybook)"
    },
    "styles": {
      "tailwind": {
        "configFile": "tailwind.config.cjs",
        "featuresUsed": [
          "Container queries (@tailwindcss/container-queries)",
          "Custom screens (coarse, fine, 2x)",
          "CSS variable usage for theming (var(--color-...))"
        ],
        "plugins": ["@tailwindcss/container-queries", "tailwindcss-animate"]
      },
      "merging": "Tailwind classes often merged with `clsx` + `tailwind-merge` in src/utils/cx.ts"
    },
    "formatting": {
      "prettier": {
        "semi": false,
        "trailingComma": "all",
        "printWidth": 100,
        "tabWidth": 2
      },
      "eslint": {
        "configFile": ".eslintrc.json in project root",
        "rules": [
          "Uses @typescript-eslint for TypeScript linting",
          "Includes react, react-hooks, and jsx-a11y plugins"
        ]
      }
    }
  },
{
  "dependencies": {
    "packageManager": "npm",
    "existing": {
      "@codemirror/autocomplete": "^6.1.0",
      "@codemirror/commands": "^6.7.0",
      "@codemirror/lang-markdown": "^6.2.5",
      "@codemirror/lang-yaml": "^6.1.1",
      "@codemirror/state": "^6.1.0",
      "@codemirror/view": "^6.34.2",
      "@lezer/highlight": "^1.2.0",
      "@netlify/functions": "^2.7.0",
      "@radix-ui/react-alert-dialog": "^1.0.0",
      "@radix-ui/react-checkbox": "^1.1.2",
      "@radix-ui/react-dialog": "^1.0.2",
      "@radix-ui/react-dropdown-menu": "^1.0.0",
      "@radix-ui/react-hover-card": "^1.0.7",
      "@radix-ui/react-navigation-menu": "^1.2.1",
      "@radix-ui/react-portal": "^1.0.4",
      "@radix-ui/react-radio-group": "^1.2.0",
      "@radix-ui/react-roving-focus": "^1.0.0",
      "@radix-ui/react-slot": "^1.0.0",
      "@radix-ui/react-switch": "^1.0.3",
      "@radix-ui/react-tabs": "^1.0.3",
      "@radix-ui/react-tooltip": "^1.0.7",
      "@replit/codemirror-vim": "^6.1.0",
      "@storybook/addon-essentials": "^8.4.7",
      "@storybook/addon-interactions": "^8.4.7",
      "@storybook/addon-links": "^8.4.7",
      "@storybook/blocks": "^8.4.7",
      "@storybook/react": "^8.4.7",
      "@storybook/react-vite": "^8.4.7",
      "@storybook/test-runner": "^0.20.1",
      "@tailwindcss/container-queries": "^0.1.0",
      "@tanstack/router-devtools": "^1.86.1",
      "@tanstack/router-plugin": "^1.86.0",
      "@total-typescript/ts-reset": "^0.5.1",
      "@types/benchmark": "^2.1.2",
      "@types/mdast": "^3.0.10",
      "@types/micromatch": "^4.0.5",
      "@types/prismjs": "^1.26.0",
      "@types/qs": "^6.9.7",
      "@types/react": "^18.2.79",
      "@types/react-dom": "^18.0.6",
      "@types/unist": "^2.0.6",
      "@types/uuid": "^9.0.3",
      "@types/yamljs": "^0.2.31",
      "@typescript-eslint/eslint-plugin": "^6.21.0",
      "@typescript-eslint/parser": "^6.11.0",
      "@uiw/codemirror-themes": "^4.22.0",
      "@uiw/react-codemirror": "^4.23.6",
      "autoprefixer": "^10.4.19",
      "c8": "^10.1.2",
      "chrono-node": "^2.7.0",
      "clsx": "^2.1.0",
      "cmdk": "^0.2.0",
      "concurrently": "^8.2.0",
      "date-fns": "^2.29.2",
      "date-fns-tz": "^1.3.7",
      "eslint": "^8.54.0",
      "eslint-plugin-jsx-a11y": "^6.6.1",
      "eslint-plugin-react": "^7.34.1",
      "eslint-plugin-react-hooks": "^4.6.0",
      "eslint-plugin-storybook": "^0.8.0",
      "fast-fuzzy": "^1.11.2",
      "idb-keyval": "^6.2.0",
      "isomorphic-git": "^1.25.0",
      "jotai": "^2.0.3",
      "jotai-xstate": "^0.3.0",
      "mdast-util-from-markdown": "^1.2.0",
      "mdast-util-to-markdown": "^2.1.0",
      "micromark": "^3.0.10",
      "micromark-extension-gfm-task-list-item": "^2.0.1",
      "micromark-util-symbol": "^1.0.1",
      "micromark-util-types": "^1.0.2",
      "micromatch": "^4.0.5",
      "mime": "^4.0.3",
      "netlify-cli": "^17.33.4",
      "node-emoji": "^2.1.0",
      "patch-package": "^6.4.7",
      "postcss": "^8.4.34",
      "prettier": "^2.7.1",
      "prettier-plugin-tailwindcss": "^0.2.1",
      "qs": "^6.11.0",
      "react": "^18.2.0",
      "react-dom": "^18.2.0",
      "react-error-boundary": "^4.0.13",
      "react-hotkeys-hook": "^4.5.0",
      "react-intersection-observer": "^9.4.0",
      "react-markdown": "^8.0.3",
      "react-resizable-panels": "^2.0.18",
      "react-router-dom": "^6.3.0",
      "react-use": "^17.5.1",
      "rehype-katex": "^6.0.3",
      "remark-emoji": "^3.1.2",
      "remark-gfm": "^3.0.1",
      "rollup-plugin-visualizer": "^5.12.0",
      "storybook": "^8.4.7",
      "tailwind-merge": "^2.2.1",
      "tailwindcss": "^3.4.16",
      "tailwindcss-animate": "^1.0.5",
      "typescript": "^5.7.3",
      "unified": "^10.1.2",
      "uuid": "^9.0.0",
      "vaul": "^1.1.1",
      "vite": "^5.4.11",
      "vite-node": "^2.1.8",
      "vite-plugin-node-polyfills": "^0.22.0",
      "vite-plugin-pwa": "^0.20.2",
      "vitest": "^2.1.8",
      "wait-on": "^7.0.1",
      "workbox-window": "^7.1.0",
      "xstate": "^4.38.3",
      "zod": "^3.22.4"
    },
    "plannedUpdates": {
      "@codemirror/autocomplete": "^6.18.4",
      "@codemirror/commands": "^6.8.0",
      "@codemirror/lang-markdown": "^6.3.2",
      "@codemirror/lang-yaml": "^6.1.2",
      "@codemirror/state": "^6.5.1",
      "@codemirror/view": "^6.36.2",
      "@lezer/highlight": "^1.2.1",
      "@netlify/functions": "^3.0.0",
      "@radix-ui/react-alert-dialog": "^1.1.5",
      "@radix-ui/react-checkbox": "^1.1.3",
      "@radix-ui/react-dialog": "^1.1.5",
      "@radix-ui/react-dropdown-menu": "^2.1.5",
      "@radix-ui/react-hover-card": "^1.1.5",
      "@radix-ui/react-navigation-menu": "^1.2.4",
      "@radix-ui/react-portal": "^1.1.3",
      "@radix-ui/react-radio-group": "^1.2.2",
      "@radix-ui/react-roving-focus": "^1.1.1",
      "@radix-ui/react-slot": "^1.1.1",
      "@radix-ui/react-switch": "^1.1.2",
      "@radix-ui/react-tabs": "^1.1.2",
      "@radix-ui/react-tooltip": "^1.1.7",
      "@replit/codemirror-vim": "^6.2.1",
      "@storybook/addon-essentials": "^8.5.1",
      "@storybook/addon-interactions": "^8.5.1",
      "@storybook/addon-links": "^8.5.1",
      "@storybook/blocks": "^8.5.1",
      "@storybook/react": "^8.5.1",
      "@storybook/react-vite": "^8.5.1",
      "@storybook/test-runner": "^0.21.0",
      "@tailwindcss/container-queries": "^0.1.1",
      "@tanstack/router-devtools": "^1.97.21",
      "@tanstack/router-plugin": "^1.97.22",
      "@total-typescript/ts-reset": "^0.6.1",
      "@types/benchmark": "^2.1.5",
      "@types/mdast": "^4.0.4",
      "@types/micromatch": "^4.0.9",
      "@types/prismjs": "^1.26.5",
      "@types/qs": "^6.9.18",
      "@types/react": "^19.0.8",
      "@types/react-dom": "^19.0.3",
      "@types/unist": "^3.0.3",
      "@types/uuid": "^10.0.0",
      "@types/yamljs": "^0.2.34",
      "@typescript-eslint/eslint-plugin": "^8.21.0",
      "@typescript-eslint/parser": "^8.21.0",
      "@uiw/codemirror-themes": "^4.23.7",
      "@uiw/react-codemirror": "^4.23.7",
      "autoprefixer": "^10.4.20",
      "c8": "^10.1.3",
      "chrono-node": "^2.7.8",
      "clsx": "^2.1.1",
      "cmdk": "^1.0.4",
      "concurrently": "^9.1.2",
      "date-fns": "^4.1.0",
      "date-fns-tz": "^3.2.0",
      "eslint": "^9.19.0",
      "eslint-plugin-jsx-a11y": "^6.10.2",
      "eslint-plugin-react": "^7.37.4",
      "eslint-plugin-react-hooks": "^5.1.0",
      "eslint-plugin-storybook": "^0.11.2",
      "fast-fuzzy": "^1.12.0",
      "idb-keyval": "^6.2.1",
      "isomorphic-git": "^1.29.0",
      "jotai": "^2.11.1",
      "jotai-xstate": "^0.6.1",
      "mdast-util-from-markdown": "^2.0.2",
      "mdast-util-to-markdown": "^2.1.2",
      "micromark": "^4.0.1",
      "micromark-extension-gfm-task-list-item": "^2.1.0",
      "micromark-util-symbol": "^2.0.1",
      "micromark-util-types": "^2.0.1",
      "micromatch": "^4.0.8",
      "mime": "^4.0.6",
      "netlify-cli": "^18.0.2",
      "node-emoji": "^2.2.0",
      "patch-package": "^8.0.0",
      "postcss": "^8.5.1",
      "prettier": "^3.4.2",
      "prettier-plugin-tailwindcss": "^0.6.11",
      "qs": "^6.14.0",
      "react": "^19.0.0",
      "react-dom": "^19.0.0",
      "react-error-boundary": "^5.0.0",
      "react-hotkeys-hook": "^4.6.1",
      "react-intersection-observer": "^9.15.1",
      "react-markdown": "^9.0.3",
      "react-resizable-panels": "^2.1.7",
      "react-router-dom": "^7.1.3",
      "react-use": "^17.6.0",
      "rehype-katex": "^7.0.1",
      "remark-emoji": "^5.0.1",
      "remark-gfm": "^4.0.0",
      "rollup-plugin-visualizer": "^5.14.0",
      "storybook": "^8.5.1",
      "tailwind-merge": "^2.6.0",
      "tailwindcss": "^4.0.0",
      "tailwindcss-animate": "^1.0.7",
      "unified": "^11.0.5",
      "uuid": "^11.0.5",
      "vaul": "^1.1.2",
      "vite": "^6.0.11",
      "vite-node": "^3.0.4",
      "vite-plugin-node-polyfills": "^0.23.0",
      "vite-plugin-pwa": "^0.21.1",
      "vitest": "^3.0.4",
      "wait-on": "^8.0.2",
      "workbox-window": "^7.3.0",
      "xstate": "^5.19.2",
      "zod": "^3.24.1"
    },
    "notes": "Ensure to regenerate lockfiles (e.g. package-lock.json) and thoroughly test after upgrading"
  }
}